var e,t=require("react-router"),r=require("react-router-dom"),n=require("react"),u=(e=n)&&"object"==typeof e&&"default"in e?e.default:e,o=require("history"),a=require("react-suspense-fetch"),i=require("react-tracked");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,u={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(u[r]=e[r]);return u}var f=n.createContext(!1),l=function(e){return u.createElement(f.Provider,{value:e.suspensePending},e.children)},p=function(e){var t=o.createBrowserHistory(e),r=(e||{}).startTransiton;if(r){var n=t.listen;t.listen=function(e){return n(function(t,n){r(function(){e(t,n)})})}}return t},d=i.createContainer(function(e){var t=(void 0===e?{data:null}:e).data;return[t&&c({},t),null]}),h=d.Provider,b=d.useTrackedState,m=d.useSelector,P=Symbol("INITIALIZED_MAP");Object.defineProperty(exports,"MemoryRouter",{enumerable:!0,get:function(){return t.MemoryRouter}}),Object.defineProperty(exports,"Prompt",{enumerable:!0,get:function(){return t.Prompt}}),Object.defineProperty(exports,"Redirect",{enumerable:!0,get:function(){return t.Redirect}}),Object.defineProperty(exports,"Router",{enumerable:!0,get:function(){return t.Router}}),Object.defineProperty(exports,"StaticRouter",{enumerable:!0,get:function(){return t.StaticRouter}}),Object.defineProperty(exports,"Switch",{enumerable:!0,get:function(){return t.Switch}}),Object.defineProperty(exports,"generatePath",{enumerable:!0,get:function(){return t.generatePath}}),Object.defineProperty(exports,"matchPath",{enumerable:!0,get:function(){return t.matchPath}}),Object.defineProperty(exports,"useHistory",{enumerable:!0,get:function(){return t.useHistory}}),Object.defineProperty(exports,"useLocation",{enumerable:!0,get:function(){return t.useLocation}}),Object.defineProperty(exports,"useParams",{enumerable:!0,get:function(){return t.useParams}}),Object.defineProperty(exports,"useRouteMatch",{enumerable:!0,get:function(){return t.useRouteMatch}}),Object.defineProperty(exports,"withRouter",{enumerable:!0,get:function(){return t.withRouter}}),Object.defineProperty(exports,"HashRouter",{enumerable:!0,get:function(){return r.HashRouter}}),Object.defineProperty(exports,"Link",{enumerable:!0,get:function(){return r.Link}}),Object.defineProperty(exports,"NavLink",{enumerable:!0,get:function(){return r.NavLink}}),exports.BrowserRouter=function(e){var r=e.suspenseConfig,o=e.children,a=s(e,["suspenseConfig","children"]),i=n.useTransition(r),f=i[0],d=i[1],h=n.useRef();return h.current||(h.current=p(c({},a,{startTransiton:f}))),u.createElement(l,{suspensePending:d},u.createElement(t.Router,{history:h.current},o))},exports.LazyFetcher=function(e){var t=a.prepare(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return a.run(t,null),a.prefetch(r,[t,e],function(e){return[e[0].default,e[1]]})}},exports.Route=function(e){var r=e.fetchData,o=s(e,["fetchData"]),a=t.useHistory(),i=n.useState(null),c=i[0],f=i[1],l=r&&null===c?function(e,r,n){var u,o=n.computedMatch||t.matchPath(e.location.pathname,n),a=function(e){var t=e,r=t[P];return r||(r=new Map,t[P]=r),r}(e),i=JSON.stringify(n,(u=[],function(e,t){return"children"===e?null:u.includes(t)?null:(u.push(t),t)}));return a.has(i)||a.set(i,o?r(o):null),a.get(i)}(a,r,o):c;return n.useEffect(function(){return a.listen(function(e){var n=t.matchPath(e.pathname,o);n&&r&&f(r(n))})},[o,r,a]),u.createElement(h,{data:l},u.createElement(t.Route,Object.assign({},o)))},exports.useRouteData=b,exports.useRouteDataSelector=m,exports.useSuspensePending=function(){return n.useContext(f)};
//# sourceMappingURL=index.js.map
