!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-router"),require("react-router-dom"),require("react"),require("history"),require("react-suspense-fetch"),require("react-tracked")):"function"==typeof define&&define.amd?define(["exports","react-router","react-router-dom","react","history","react-suspense-fetch","react-tracked"],t):t((e=e||self).reactSuspenseRouter={},e.ReactRouter,e.ReactRouterDOM,e.react,e.history,e.reactSuspenseFetch,e.reactTracked)}(this,function(e,t,r,n,u,o,a){var c="default"in n?n.default:n;function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,u={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(u[r]=e[r]);return u}var f=n.createContext(!1),l=function(e){return c.createElement(f.Provider,{value:e.suspensePending},e.children)},d=function(e){var t=u.createBrowserHistory(e),r=(e||{}).startTransiton;if(r){var n=t.listen;t.listen=function(e){return n(function(t,n){r(function(){e(t,n)})})}}return t},p=a.createContainer(function(e){var t=(void 0===e?{data:null}:e).data;return[t&&i({},t),null]}),h=p.Provider,m=p.useTrackedState,b=p.useSelector,y=Symbol("INITIALIZED_MAP");Object.defineProperty(e,"MemoryRouter",{enumerable:!0,get:function(){return t.MemoryRouter}}),Object.defineProperty(e,"Prompt",{enumerable:!0,get:function(){return t.Prompt}}),Object.defineProperty(e,"Redirect",{enumerable:!0,get:function(){return t.Redirect}}),Object.defineProperty(e,"Router",{enumerable:!0,get:function(){return t.Router}}),Object.defineProperty(e,"StaticRouter",{enumerable:!0,get:function(){return t.StaticRouter}}),Object.defineProperty(e,"Switch",{enumerable:!0,get:function(){return t.Switch}}),Object.defineProperty(e,"generatePath",{enumerable:!0,get:function(){return t.generatePath}}),Object.defineProperty(e,"matchPath",{enumerable:!0,get:function(){return t.matchPath}}),Object.defineProperty(e,"useHistory",{enumerable:!0,get:function(){return t.useHistory}}),Object.defineProperty(e,"useLocation",{enumerable:!0,get:function(){return t.useLocation}}),Object.defineProperty(e,"useParams",{enumerable:!0,get:function(){return t.useParams}}),Object.defineProperty(e,"useRouteMatch",{enumerable:!0,get:function(){return t.useRouteMatch}}),Object.defineProperty(e,"withRouter",{enumerable:!0,get:function(){return t.withRouter}}),Object.defineProperty(e,"HashRouter",{enumerable:!0,get:function(){return r.HashRouter}}),Object.defineProperty(e,"Link",{enumerable:!0,get:function(){return r.Link}}),Object.defineProperty(e,"NavLink",{enumerable:!0,get:function(){return r.NavLink}}),e.BrowserRouter=function(e){var r=e.suspenseConfig,u=e.children,o=s(e,["suspenseConfig","children"]),a=n.useTransition(r),f=a[0],p=a[1],h=n.useRef();return h.current||(h.current=d(i({},o,{startTransiton:f}))),c.createElement(l,{suspensePending:p},c.createElement(t.Router,{history:h.current},u))},e.LazyFetcher=function(e){var t=o.prepare(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return o.run(t,null),o.prefetch(r,[t,e],function(e){return[e[0].default,e[1]]})}},e.Route=function(e){var r=e.fetchData,u=s(e,["fetchData"]),o=t.useHistory(),a=n.useState(null),i=a[0],f=a[1],l=r&&null===i?function(e,r,n){var u,o=n.computedMatch||t.matchPath(e.location.pathname,n),a=function(e){var t=e,r=t[y];return r||(r=new Map,t[y]=r),r}(e),c=JSON.stringify(n,(u=[],function(e,t){return"children"===e?null:u.includes(t)?null:(u.push(t),t)}));return a.has(c)||a.set(c,o?r(o):null),a.get(c)}(o,r,u):i;return n.useEffect(function(){return o.listen(function(e){var n=t.matchPath(e.pathname,u);n&&r&&f(r(n))})},[u,r,o]),c.createElement(h,{data:l},c.createElement(t.Route,Object.assign({},u)))},e.useRouteData=m,e.useRouteDataSelector=b,e.useSuspensePending=function(){return n.useContext(f)}});
//# sourceMappingURL=index.umd.js.map
