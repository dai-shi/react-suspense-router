import{useListen as e,useParams as r,matchRoutes as t,useRoutes as n,createRoutesFromChildren as a,useResolvedLocation as o,useLocation as u}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,usePending,useResolvedLocation}from"react-router";export{BrowserRouter,HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";export{StaticRouter}from"react-router-dom/server";import i,{useState as c,useRef as s,useEffect as f}from"react";import{createContainer as v}from"react-tracked";import{prepare as l,prefetch as m,run as d}from"react-suspense-fetch";function p(){return(p=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var h=function(e){return!!e.element},g=v(function(e){return[e.data,null]}),_=g.useTrackedState,R=g.Provider,O=function(){return _({unstable_ignoreStateEquality:!0})},P=g.useSelector,w={pathname:null},y=function(e){var r=o(w).pathname;return e?(r+"/"+e).replace(/\/\/+/g,"/"):r},b=function(e,r){return e.map(function(e){if(!h(e))return e;if(!e.element.props.fetchData)return e;var t=r[e.path];return p({},e,{element:t&&i.createElement(R,{data:t,children:e.element})})})},A=function(e,r){var t={};return(e||[]).forEach(function(e){var n=e.params,a=e.pathname,o=e.route;if(o&&h(o)){var u=o.element.props.fetchData;if(u){var i=u({params:p({},r,{},n),pathname:a});t[o.path]=i}}}),t},S=function(e){try{var r=window.__ROUTE_DATA_MAP_CACHE__;return r[e]||(r[e]={}),r[e]}catch(e){return{}}},k="undefined"==typeof window||void 0===window.navigator||(""+window.navigator.userAgent).includes("ServerSideRendering")?function(e,a,o){void 0===a&&(a=""),void 0===o&&(o=!1);var i=y(a),c=r(),s=u(),f=t(e,s,i,o),v=S(i);0===Object.keys(v).length&&Object.assign(v,A(f,c));var l=b(e,v);return n(l,a,o)}:function(a,o,u){void 0===o&&(o=""),void 0===u&&(u=!1);var i=e(),v=y(o),l=r(),m=c(function(){return S(v)}),d=m[0],p=m[1],h=s();f(function(){h.current={routesOrig:a,basename:v,caseSensitive:u,parentParams:l}}),f(function(){var e={};return i(function(r){var n,a,o,u,i;if(!function(e){try{var r=window.__ROUTE_DATA_MAP_CACHE__;return!!r[e]&&(delete r[e],!0)}catch(e){return!1}}((null==(n=h.current)?void 0:n.basename)||"")){var c=t(null==(a=h.current)?void 0:a.routesOrig,r,null==(o=h.current)?void 0:o.basename,null==(u=h.current)?void 0:u.caseSensitive);e=A(c||[],(null==(i=h.current)?void 0:i.parentParams)||{}),p(function(r){return 0===Object.keys(r).length&&0===Object.keys(e).length?r:e})}})},[i]);var g=b(a,d);return n(g,o,u)},j=function(e){var r=e.basename,t=void 0===r?"":r,n=e.caseSensitive,o=void 0!==n&&n,u=a(e.children);return k(u,t,o)},E=function(e){return function(r){return m(e,r)}},C=function(e){var r=l(e),t=function(e){var r=e[0],t=e[1];try{return Promise.resolve(r(t))}catch(e){return Promise.reject(e)}};return function(e){return d(r,null),m(t,[r,e],function(e){return[e[0].default,e[1]]})}};export{E as FetchData,C as FetchDataLazy,j as Routes,O as useRouteData,P as useRouteDataSelector,k as useRoutes};
//# sourceMappingURL=index.esm.js.map
