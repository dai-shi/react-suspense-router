import{Router as e,useResolvedLocation as t,useParams as r,useLocation as n,useRoutes as o,createRoutesFromChildren as u,matchRoutes as a}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedLocation}from"react-router";export{HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import i,{createContext as c,useContext as s,useTransition as l,useRef as f,useState as m,useEffect as v,useMemo as p}from"react";import{createBrowserHistory as h}from"history";import{createContainer as d}from"react-tracked";import{prepare as P,run as y,prefetch as g}from"react-suspense-fetch";function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var R=c(null),w=function(e){return i.createElement(R.Provider,{value:e.history},e.children)},k=c(!1),L=function(e){return i.createElement(k.Provider,{value:e.suspensePending},e.children)},O=function(){return s(k)},b=function(t){var r=t.timeout,n=t.window,o=t.children,u=l(r?{timeoutMs:r}:null),a=u[0],c=u[1],s=f();return s.current||(s.current=function(e){return function(t){return E({},t,{listen:function(r){return t.listen(function(t){e(function(){r(t)})})}})}}(a)(h({window:n}))),i.createElement(w,{history:s.current},i.createElement(L,{suspensePending:c},i.createElement(e,{history:s.current,timeout:r},o)))},x=function(e){return!!e.element},S=d(function(e){return[e.data,null]}),j=S.useTrackedState,H=S.Provider,M=function(){return j({unstable_ignoreStateEquality:!0})},N=S.useSelector,C={pathname:null},D=function(e,u,c){void 0===u&&(u=""),void 0===c&&(c=!1);var l=function(){var e=s(R);if(!e)throw new Error("missing <HistoryContext>");return e}(),p=t(C).pathname,h=r(),d=f(n()),P=u?(p+"/"+u).replace(/\/\/+/g,"/"):p,y=m({}),g=y[0],w=y[1];v(function(){var t=function(t){(a(e,t.location,P,c)||[]).forEach(function(e){var t=e.params,r=e.pathname,n=e.route;if(n&&x(n)){var o=n.element.props.fetchData;if(o){var u=o({params:E({},h,{},t),pathname:r});w(function(e){var t;return E({},e,((t={})[n.path]=u,t))})}}})},r=l.listen(t);return t({location:d.current}),r},[l,e,P,c,h]);var k=e.map(function(e){if(!x(e))return e;if(!e.element.props.fetchData)return e;var t=g[e.path];return E({},e,{element:t&&i.createElement(H,{data:t,children:e.element})})});return o(k,u,c)},q=function(e){var t=e.basename,r=void 0===t?"":t,n=e.caseSensitive,o=void 0!==n&&n,a=e.children,i=p(function(){return u(a)},[a]);return D(i,r,o)},B=function(e){var t=P(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return y(t,null),g(r,[t,e],function(e){return[e[0].default,e[1]]})}};export{b as BrowserRouter,B as LazyFetcher,q as Routes,M as useRouteData,N as useRouteDataSelector,D as useRoutes,O as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
