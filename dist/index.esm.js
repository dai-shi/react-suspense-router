import{Router as e,useResolvedLocation as r,useParams as t,useLocation as n,useRoutes as o,createRoutesFromChildren as u,matchRoutes as a}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedLocation}from"react-router";export{HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import i,{createContext as c,useContext as s,useTransition as l,useRef as m,useState as f,useEffect as v}from"react";import{createBrowserHistory as p}from"history";import{createContainer as d}from"react-tracked";import{prepare as h,run as P,prefetch as g}from"react-suspense-fetch";function y(){return(y=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var E=c(null),R=function(e){return i.createElement(E.Provider,{value:e.history},e.children)},w=c(!1),O=function(e){return i.createElement(w.Provider,{value:e.suspensePending},e.children)},b=function(){return s(w)},S=function(r){var t=r.timeout,n=r.window,o=r.children,u=l(t?{timeoutMs:t}:null),a=u[0],c=u[1],s=m();return s.current||(s.current=function(e){return function(r){return y({},r,{listen:function(t){return r.listen(function(r){e(function(){t(r)})})}})}}(a)(p({window:n}))),i.createElement(R,{history:s.current},i.createElement(O,{suspensePending:c},i.createElement(e,{history:s.current,timeout:t},o)))},k=function(e){return!!e.element},L=d(function(e){return[e.data,null]}),x=L.useTrackedState,j=L.Provider,H=function(){return x({unstable_ignoreStateEquality:!0})},M=L.useSelector,N={pathname:null},C=function(e,u,c){void 0===u&&(u=""),void 0===c&&(c=!1);var l=function(){var e=s(E);if(!e)throw new Error("missing <HistoryContext>");return e}(),p=r(N).pathname,d=t(),h=m(n()),P=u?(p+"/"+u).replace(/\/\/+/g,"/"):p,g=f({}),R=g[0],w=g[1],O=m();v(function(){O.current={routesOrig:e,basename:P,caseSensitive:c,parentParams:d}}),v(function(){var e=function(e){var r,t,n;(a(null==(r=O.current)?void 0:r.routesOrig,e.location,null==(t=O.current)?void 0:t.basename,null==(n=O.current)?void 0:n.caseSensitive)||[]).forEach(function(e){var r,t=e.params,n=e.pathname,o=e.route;if(o&&k(o)){var u=o.element.props.fetchData;if(u){var a=u({params:y({},null==(r=O.current)?void 0:r.parentParams,{},t),pathname:n});w(function(e){var r;return y({},e,((r={})[o.path]=a,r))})}}})},r=l.listen(e);return e({location:h.current}),r},[l]);var b=e.map(function(e){if(!k(e))return e;if(!e.element.props.fetchData)return e;var r=R[e.path];return y({},e,{element:r&&i.createElement(j,{data:r,children:e.element})})});return o(b,u,c)},D=function(e){var r=e.basename,t=void 0===r?"":r,n=e.caseSensitive,o=void 0!==n&&n,a=u(e.children);return C(a,t,o)},q=function(e){var r=h(e),t=function(e){var r=e[0],t=e[1];try{return Promise.resolve(r(t))}catch(e){return Promise.reject(e)}};return function(e){return P(r,null),g(t,[r,e],function(e){return[e[0].default,e[1]]})}};export{S as BrowserRouter,q as LazyFetcher,D as Routes,H as useRouteData,M as useRouteDataSelector,C as useRoutes,b as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
