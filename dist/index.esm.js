import{Router as e,matchRoutes as t,useLocation as r,useResolvedLocation as n,useParams as a,useRoutes as o,createRoutesFromChildren as u}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedLocation}from"react-router";export{HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import i,{createContext as c,useContext as s,useTransition as l,useRef as m,useState as f,useEffect as h,useMemo as v,createElement as p}from"react";import{createBrowserHistory as d}from"history";import{createContainer as y}from"react-tracked";import{prepare as P,run as g,prefetch as E}from"react-suspense-fetch";function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=c(null),b=function(e){return i.createElement(S.Provider,{value:e.history},e.children)},w=c(!1),O=function(e){return i.createElement(w.Provider,{value:e.suspensePending},e.children)},L=function(){return s(w)},k=function(t){var r=t.timeout,n=t.window,a=t.children,o=l(r?{timeoutMs:r}:null),u=o[0],c=o[1],s=m();return s.current||(s.current=function(e){return function(t){return R({},t,{listen:function(r){return t.listen(function(t){e(function(){r(t)})})}})}}(u)(d({window:n}))),i.createElement(b,{history:s.current},i.createElement(O,{suspensePending:c},i.createElement(e,{history:s.current,timeout:r},a)))},x=y(function(e){return[e.data,null]}),M=x.useTrackedState,N=x.Provider,D=function(){return M({unstable_ignoreStateEquality:!0})},I=x.useSelector,j=Symbol("INITIALIZED_MAP"),H=function(e){var r=e.history,n=e.routePath,a=e.basename,o=e.caseSensitive,u=e.fetchData,c=e.match,s=e.children,l=f(null),m=l[0],v=l[1],p=null===m?function(e,t,r,n,a,o){var u=function(e){var t=e,r=t[j];return r||(r=new Map,t[j]=r),r}(e),i=JSON.stringify({path:r,basename:n,caseSensitive:a,match:o});return u.has(i)||u.set(i,o?t(o):null),u.get(i)}(r,u,n,a,o,c):m;return h(function(){return r.listen(function(e){var r=t([{path:n}],e.location,a,o);r&&r.length&&v(u({params:r[0].params,pathname:r[0].pathname}))})},[r,n,a,o,u]),i.createElement(N,{data:p},s)},A={pathname:null},C=function(e,u,i){void 0===u&&(u=""),void 0===i&&(i=!1);var c=function(){var e=s(S);if(!e)throw new Error("missing <HistoryContext>");return e}(),l=r(),m=n(A).pathname,f=a(),h=u?(m+"/"+u).replace(/\/\/+/g,"/"):m,d=v(function(){return t(e,l,h,i)},[e,l,h,i]),y=[].concat(e);return(d||[]).forEach(function(e){if(e.route){var t=y.indexOf(e.route);if(-1!==t){var r=y[t];if(function(e){return!!e.element}(r)){var n=r.element.props.fetchData;if(n){var a=R({},f,{},e.params),o=p(H,{history:c,routePath:r.path,basename:h,caseSensitive:i,fetchData:n,match:{params:a,pathname:e.pathname}},r.element);y[t]=R({},r,{element:o})}}}}}),o(y,u,i)},T=function(e){var t=e.basename,r=void 0===t?"":t,n=e.caseSensitive,a=void 0!==n&&n,o=u(e.children);return C(o,r,a)},_=function(e){var t=P(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return g(t,null),E(r,[t,e],function(e){return[e[0].default,e[1]]})}};export{k as BrowserRouter,_ as LazyFetcher,T as Routes,D as useRouteData,I as useRouteDataSelector,C as useRoutes,L as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
