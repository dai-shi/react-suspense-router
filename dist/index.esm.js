import{useHistory as e,useStartTransition as r,useResolvedLocation as t,useParams as n,useLocation as a,useRoutes as o,createRoutesFromChildren as u,matchRoutes as i}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,usePending,useResolvedLocation}from"react-router";export{BrowserRouter,HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import c,{useRef as s,useState as l,useEffect as f}from"react";import{createContainer as m}from"react-tracked";import{prepare as v,run as p,prefetch as d}from"react-suspense-fetch";function h(){return(h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var P=function(e){return!!e.element},g=m(function(e){return[e.data,null]}),R=g.useTrackedState,O=g.Provider,b=function(){return R({unstable_ignoreStateEquality:!0})},y=g.useSelector,S={pathname:null},k=function(u,m,v){void 0===m&&(m=""),void 0===v&&(v=!1);var p=e(),d=s(r()),g=t(S).pathname,R=n(),b=s(a()),y=m?(g+"/"+m).replace(/\/\/+/g,"/"):g,k=l({}),L=k[0],j=k[1],x=s();f(function(){x.current={routesOrig:u,basename:y,caseSensitive:v,parentParams:R}}),f(function(){var e=function(e){var r,t,n;(i(null==(r=x.current)?void 0:r.routesOrig,e,null==(t=x.current)?void 0:t.basename,null==(n=x.current)?void 0:n.caseSensitive)||[]).forEach(function(e){var r,t=e.params,n=e.pathname,a=e.route;if(a&&P(a)){var o=a.element.props.fetchData;if(o){var u=o({params:h({},null==(r=x.current)?void 0:r.parentParams,{},t),pathname:n});j(function(e){var r;return h({},e,((r={})[a.path]=u,r))})}}})},r=p.listen(function(r){var t=r.location;d.current(function(){e(t)})});return e(b.current),r},[p]);var E=u.map(function(e){if(!P(e))return e;if(!e.element.props.fetchData)return e;var r=L[e.path];return h({},e,{element:r&&c.createElement(O,{data:r,children:e.element})})});return o(E,m,v)},L=function(e){var r=e.basename,t=void 0===r?"":r,n=e.caseSensitive,a=void 0!==n&&n,o=u(e.children);return k(o,t,a)},j=function(e){var r=v(e),t=function(e){var r=e[0],t=e[1];try{return Promise.resolve(r(t))}catch(e){return Promise.reject(e)}};return function(e){return p(r,null),d(t,[r,e],function(e){return[e[0].default,e[1]]})}};export{j as LazyFetcher,L as Routes,b as useRouteData,y as useRouteDataSelector,k as useRoutes};
//# sourceMappingURL=index.esm.js.map
