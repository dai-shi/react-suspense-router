import{Router as e,useListen as r,useParams as t,matchRoutes as n,useRoutes as a,createRoutesFromChildren as o,useResolvedLocation as u,useLocation as i}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,usePending,useResolvedLocation}from"react-router";export{BrowserRouter,HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import s,{useState as c,useRef as l,useEffect as v}from"react";import{createContainer as f}from"react-tracked";import{prepare as h,run as p,prefetch as d}from"react-suspense-fetch";process;var m=function(e){var r=e.pathname,t=e.search;return(void 0===r?"/":r)+(void 0===t?"":t)+(void 0===(e=e.hash)?"":e)};function g(r){var t=r.children,n=r.context,a=void 0===n?{}:n,o=r.location,u=void 0===o?"/":o;"string"==typeof u&&(u=function(e){var r={};if(e){var t=e.indexOf("#");0<=t&&(r.hash=e.substr(t),e=e.substr(0,t)),0<=(t=e.indexOf("?"))&&(r.search=e.substr(t),e=e.substr(0,t)),e&&(r.pathname=e)}return r}(u));var i={pathname:u.pathname||"/",search:u.search||"",hash:u.hash||"",state:u.state||null,key:u.key||"default"};return s.createElement(e,{children:t,history:{get action(){return"POP"},get location(){return i},push:function(e,r){var t=m(e);console.warn('You cannot perform a PUSH with a static router. You probably want a REPLACE instead.\n\nTo avoid this warning, find the element that is calling `navigate("'+t+'")` and change it to `navigate("'+t+'", { replace: true })`. This could also be caused by rendering a `<Navigate to={"'+t+'"} />` on the server. In that case, just add a `replace: true` prop to do a redirect instead.'),a.url=t,a.state=r},replace:function(e,r){var t=m(e);a.url=t,a.state=r},go:function(e){throw new Error("You cannot perform "+(-1===e?"GO BACK":"GO("+e+")")+" on the server because it is a stateless environment. This error was probably triggered when you did a `navigate("+e+")` somewhere in your app.")},listen:function(){},block:function(){},createHref:function(e){return m(e)}}})}function b(){return(b=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var w=function(e){return!!e.element},y=f(function(e){return[e.data,null]}),P=y.useTrackedState,O=y.Provider,R=function(){return P({unstable_ignoreStateEquality:!0})},k=y.useSelector,S={pathname:null},E=function(e){var r=u(S).pathname;return e?(r+"/"+e).replace(/\/\/+/g,"/"):r},x=function(e,r){return e.map(function(e){if(!w(e))return e;if(!e.element.props.fetchData)return e;var t=r.get(e.path);return b({},e,{element:t&&s.createElement(O,{data:t,children:e.element})})})},L=function(e,r){var t=new Map;return(e||[]).forEach(function(e){var n=e.params,a=e.pathname,o=e.route;if(o&&w(o)){var u=o.element.props.fetchData;if(u){var i=u({params:b({},r,{},n),pathname:a});t.set(o.path,i)}}}),t},M="undefined"==typeof window||!!window.isSsr,j={},H=M?function(e,r,o){void 0===r&&(r=""),void 0===o&&(o=!1);var u=E(r),s=t(),c=i(),l=n(e,c,u,o),v=j[u];v||(v=L(l,s),j[u]=v);var f=x(e,v);return a(f,r,o)}:function(e,o,u){void 0===o&&(o=""),void 0===u&&(u=!1);var i=r(),s=E(o),f=t(),h=c(new Map),p=h[0],d=h[1],m=l();v(function(){m.current={routesOrig:e,basename:s,caseSensitive:u,parentParams:f}}),v(function(){var e=new Map;return i(function(r){var t,a,o,u,i=n(null==(t=m.current)?void 0:t.routesOrig,r,null==(a=m.current)?void 0:a.basename,null==(o=m.current)?void 0:o.caseSensitive);e=L(i||[],(null==(u=m.current)?void 0:u.parentParams)||{}),d(function(r){return 0===r.size&&0===e.size?r:e})})},[i]);var g=x(e,p);return a(g,o,u)},N=function(e){var r=e.basename,t=void 0===r?"":r,n=e.caseSensitive,a=void 0!==n&&n,u=o(e.children);return H(u,t,a)},T=function(e){var r=h(e),t=function(e){var r=e[0],t=e[1];try{return Promise.resolve(r(t))}catch(e){return Promise.reject(e)}};return function(e){return p(r,null),d(t,[r,e],function(e){return[e[0].default,e[1]]})}};export{T as LazyFetcher,N as Routes,g as StaticRouter,R as useRouteData,k as useRouteDataSelector,H as useRoutes};
//# sourceMappingURL=index.esm.js.map
