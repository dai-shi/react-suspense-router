import{Router as r,useHistory as t,matchPath as e,Route as n}from"react-router";export{MemoryRouter,Prompt,Redirect,Router,StaticRouter,Switch,generatePath,matchPath,useHistory,useLocation,useParams,useRouteMatch,withRouter}from"react-router";export{HashRouter,Link,NavLink}from"react-router-dom";import o,{createContext as u,useContext as a,useTransition as i,useRef as c,useState as s,useEffect as f}from"react";import{createBrowserHistory as l}from"history";import{prepare as m,run as h,prefetch as p}from"react-suspense-fetch";import{createContainer as v}from"react-tracked";function d(){return(d=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r}).apply(this,arguments)}function y(r,t){if(null==r)return{};var e,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t.indexOf(e=u[n])>=0||(o[e]=r[e]);return o}var P=u(!1),g=function(r){return o.createElement(P.Provider,{value:r.suspensePending},r.children)},R=function(){return a(P)},O=function(t){var e=t.suspenseConfig,n=t.children,u=y(t,["suspenseConfig","children"]),a=i(e),s=a[0],f=a[1],m=c();return m.current||(m.current=function(r){var t=l(r),e=(r||{}).startTransiton;if(e){var n=t.listen;t.listen=function(r){return n(function(t,n){e(function(){r(t,n)})})}}return t}(d({},u,{startTransiton:s}))),o.createElement(g,{suspensePending:f},o.createElement(r,{history:m.current},n))},E=function(r){var t=m(r),e=function(r){var t=r[0],e=r[1];try{return Promise.resolve(t(e))}catch(r){return Promise.reject(r)}};return function(r){return h(t,null),p(e,[t,r],function(r){return[r[0].default,r[1]]})}},S=v(function(r){return[d({},(void 0===r?{data:{}}:r).data),null]}),b=S.Provider,j=S.useTrackedState,k=S.useSelector,w=Symbol("INITIALIZED_MAP"),x=function(r){var u=r.fetchData,a=y(r,["fetchData"]),i=t(),c=s(function(){var r,t=e(i.location.pathname,a),n=function(r){var t=r,e=t[w];return e||(e=new Map,t[w]=e),e}(i),o=JSON.stringify(a,(r=[],function(t,e){return"children"===t?null:r.includes(e)?null:(r.push(e),e)}));return n.has(o)||n.set(o,t&&u?u(t):null),n.get(o)}),l=c[0],m=c[1];return f(function(){return i.listen(function(r){var t=e(r.pathname,a);t&&u&&m(u(t))})},[a,u,i]),o.createElement(b,{data:l},o.createElement(n,Object.assign({},a)))};export{O as BrowserRouter,E as LazyFetcher,x as Route,j as useRouteData,k as useRouteDataSelector,R as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
