import{Router as t,useHistory as r,matchPath as e,Route as n}from"react-router";export{MemoryRouter,Prompt,Redirect,Router,StaticRouter,Switch,generatePath,matchPath,useHistory,useLocation,useParams,useRouteMatch,withRouter}from"react-router";export{HashRouter,Link,NavLink}from"react-router-dom";import u,{createContext as o,useContext as a,useTransition as i,useRef as c,useState as s,useEffect as l}from"react";import{createBrowserHistory as f}from"history";import{prepare as m,run as h,prefetch as p}from"react-suspense-fetch";import{createContainer as v}from"react-tracked";function d(){return(d=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function y(t,r){if(null==t)return{};var e,n,u={},o=Object.keys(t);for(n=0;n<o.length;n++)r.indexOf(e=o[n])>=0||(u[e]=t[e]);return u}var P=o(!1),g=function(t){return u.createElement(P.Provider,{value:t.suspensePending},t.children)},R=function(){return a(P)},O=function(r){var e=r.suspenseConfig,n=r.children,o=y(r,["suspenseConfig","children"]),a=i(e),s=a[0],l=a[1],m=c();return m.current||(m.current=function(t){var r=f(t),e=(t||{}).startTransiton;if(e){var n=r.listen;r.listen=function(t){return n(function(r,n){e(function(){t(r,n)})})}}return r}(d({},o,{startTransiton:s}))),u.createElement(g,{suspensePending:l},u.createElement(t,{history:m.current},n))},E=function(t){var r=m(t),e=function(t){var r=t[0],e=t[1];try{return Promise.resolve(r(e))}catch(t){return Promise.reject(t)}};return function(t){return h(r,null),p(e,[r,t],function(t){return[t[0].default,t[1]]})}},S=v(function(t){var r=(void 0===t?{data:null}:t).data;return[r&&d({},r),null]}),b=S.Provider,j=S.useTrackedState,k=S.useSelector,w=Symbol("INITIALIZED_MAP"),M=function(t){var o=t.fetchData,a=y(t,["fetchData"]),i=r(),c=s(null),f=c[0],m=c[1],h=o&&null===f?function(t,r,n){var u,o=n.computedMatch||e(t.location.pathname,n),a=function(t){var r=t,e=r[w];return e||(e=new Map,r[w]=e),e}(t),i=JSON.stringify(n,(u=[],function(t,r){return"children"===t?null:u.includes(r)?null:(u.push(r),r)}));return a.has(i)||a.set(i,o?r(o):null),a.get(i)}(i,o,a):f;return l(function(){return i.listen(function(t){var r=e(t.pathname,a);r&&o&&m(o(r))})},[a,o,i]),u.createElement(b,{data:h},u.createElement(n,Object.assign({},a)))};export{O as BrowserRouter,E as LazyFetcher,M as Route,j as useRouteData,k as useRouteDataSelector,R as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
