import{createRoutesFromArray as e,useLocationListen as t,useParams as r,matchRoutes as n,useRoutes as a,createRoutesFromChildren as o,useResolvedLocation as u,useLocation as c,Route as i}from"react-router";export{MemoryRouter,Navigate,Outlet,Router,createRoutesFromArray,createRoutesFromChildren,generatePath,matchPath,matchRoutes,resolveLocation,useBlocker,useHref,useInRouterContext,useLocation,useLocationListen,useLocationPending,useMatch,useNavigate,useOutlet,useParams,useResolvedLocation}from"react-router";export{BrowserRouter,HashRouter,Link,NavLink,Prompt,createSearchParams,usePrompt,useSearchParams}from"react-router-dom";export{StaticRouter}from"react-router-dom/server";import s,{useEffect as f,isValidElement as l,useState as m,useRef as v}from"react";import{createContainer as p}from"react-tracked";import{prepare as d,prefetch as h,run as y}from"react-suspense-fetch";function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var P=function(){return null},R=p(function(e){return[e.data,P]}),_=R.Provider,O=R.useUpdate,w=R.useTrackedState,b=function(e){var t=e.setNotify,r=O();return f(function(){t(r)}),null},A=function(e){var t=e.children;return s.createElement(_,{data:e.data},s.createElement(b,{setNotify:e.setNotify}),t)},E=function(){return w({unstable_ignoreStateEquality:!0})},k=R.useSelector,j=function(e){return l(e.element)},L={pathname:void 0},S=function(e){var t=u(L).pathname;return e?(t+"/"+e).replace(/\/\/+/g,"/"):t},N=function(e,t,r){return e.map(function(e){if(!j(e))return e;if("function"!=typeof e.element.props.fetchData)return e;var n=t[e.path];return g(g({},e),{},{element:n&&s.createElement(A,{data:n,setNotify:function(t){r&&r.set(e.path,t)},children:e.element})})})},C=function(e,t){var r={};return(e||[]).forEach(function(e){var n=e.params,a=e.pathname,o=e.route;if(o&&j(o)){var u=o.element.props.fetchData;if("function"==typeof u){var c=u({params:g(g({},t),n),pathname:a});r[o.path]=c}}}),r},x=function(e){try{var t=window.__ROUTE_DATA_MAP_CACHE__;return t[e]||(t[e]={}),t[e]}catch(e){return{}}},M="undefined"==typeof window||void 0===window.navigator||(""+window.navigator.userAgent).includes("ServerSideRendering")?function(t,o){void 0===o&&(o="");var u=e(t),i=S(o),s=r(),f=c(),l=n(u,f,i),m=x(i);0===Object.keys(m).length&&Object.assign(m,C(l,s));var v=N(u,m);return a(v,o)}:function(o,u){void 0===u&&(u="");var c=e(o),i=t(),s=S(u),l=r(),p=m(function(){return x(s)}),d=p[0],h=p[1],y=v(new Map),g=v();f(function(){g.current={routesOrig:c,basename:s,parentParams:l}}),f(function(){var e={};return i(function(t){var r,a,o,u;if(!function(e){try{var t=window.__ROUTE_DATA_MAP_CACHE__;return!!t[e]&&(delete t[e],!0)}catch(e){return!1}}((null==(r=g.current)?void 0:r.basename)||"")){var c=n((null==(a=g.current)?void 0:a.routesOrig)||[],t,null==(o=g.current)?void 0:o.basename);e=C(c||[],(null==(u=g.current)?void 0:u.parentParams)||{}),h(function(t){return 0===Object.keys(t).length&&0===Object.keys(e).length?t:e}),Object.keys(e).forEach(function(e){var t=y.current.get(e);t&&t()})}})},[i]);var P=N(c,d,y.current);return a(P,u)},T=function(e){var t=e.basename,r=void 0===t?"":t,n=o(e.children);return M(n,r)},D=function(e){return function(t){return h(e,t)}},H=function(e){var t=d(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return y(t,null),h(r,[t,e],function(e){return[e[0].default,e[1]]})}},U=i;export{D as FetchData,H as FetchDataLazy,U as Route,T as Routes,E as useRouteData,k as useRouteDataSelector,M as useRoutes};
//# sourceMappingURL=index.esm.js.map
