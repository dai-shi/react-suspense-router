import{Router as e,matchRoutes as t,useLocation as r,useResolvedLocation as n,useParams as a,useRoutes as o,createRoutesFromChildren as u}from"react-router";export{MemoryRouter,Navigate,Outlet,Redirect,Route,Router,createRoutesFromChildren,generatePath,matchRoutes,resolveLocation,useBlocker,useHref,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedLocation}from"react-router";export{HashRouter,Link,NavLink,Prompt,usePrompt}from"react-router-dom";import i,{createContext as c,useContext as s,useTransition as l,useRef as m,useState as f,useEffect as h,useMemo as v,createElement as p}from"react";import{createBrowserHistory as d}from"history";import{createContainer as P}from"react-tracked";import{prepare as y,run as g,prefetch as w}from"react-suspense-fetch";function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var R=c(null),S=function(e){return i.createElement(R.Provider,{value:e.history},e.children)},b=c(!1),O=function(e){return i.createElement(b.Provider,{value:e.suspensePending},e.children)},x=function(){return s(b)},L=function(t){var r=t.timeout,n=t.window,a=t.children,o=l(r?{timeoutMs:r}:null),u=o[0],c=o[1],s=m();return s.current||(s.current=function(e){return function(t){return E({},t,{listen:function(r){return t.listen(function(t){e(function(){r(t)})})}})}}(u)(d({window:n}))),i.createElement(S,{history:s.current},i.createElement(O,{suspensePending:c},i.createElement(e,{history:s.current,timeout:r},a)))},k=P(function(e){var t=e.data;return[t&&new Proxy(t,{}),null]}),M=k.Provider,N=k.useTrackedState,D=k.useSelector,I=Symbol("INITIALIZED_MAP"),j=function(e){var r=e.history,n=e.routePath,a=e.basename,o=e.caseSensitive,u=e.fetchData,c=e.match,s=e.children,l=f(null),m=l[0],v=l[1],p=null===m?function(e,t,r,n,a,o){var u=function(e){var t=e,r=t[I];return r||(r=new Map,t[I]=r),r}(e),i=JSON.stringify({path:r,basename:n,caseSensitive:a,match:o});return u.has(i)||u.set(i,o?t(o):null),u.get(i)}(r,u,n,a,o,c):m;return h(function(){return r.listen(function(e){var r=t([{path:n}],e.location,a,o);r&&r.length&&v(u({params:r[0].params,pathname:r[0].pathname}))})},[r,n,a,o,u]),i.createElement(M,{data:p},s)},H={pathname:null},A=function(e,u,i){void 0===u&&(u=""),void 0===i&&(i=!1);var c=function(){var e=s(R);if(!e)throw new Error("missing <HistoryContext>");return e}(),l=r(),m=n(H).pathname,f=a(),h=u?(m+"/"+u).replace(/\/\/+/g,"/"):m,d=v(function(){return t(e,l,h,i)},[e,l,h,i]),P=[].concat(e);return(d||[]).forEach(function(e){if(e.route){var t=P.indexOf(e.route);if(-1!==t){var r=P[t];if(function(e){return!!e.element}(r)){var n=r.element.props.fetchData;if(n){var a=E({},f,{},e.params),o=p(j,{history:c,routePath:r.path,basename:h,caseSensitive:i,fetchData:n,match:{params:a,pathname:e.pathname}},r.element);P[t]=E({},r,{element:o})}}}}}),o(P,u,i)},C=function(e){var t=e.basename,r=void 0===t?"":t,n=e.caseSensitive,a=void 0!==n&&n,o=u(e.children);return A(o,r,a)},T=function(e){var t=y(e),r=function(e){var t=e[0],r=e[1];try{return Promise.resolve(t(r))}catch(e){return Promise.reject(e)}};return function(e){return g(t,null),w(r,[t,e],function(e){return[e[0].default,e[1]]})}};export{L as BrowserRouter,T as LazyFetcher,C as Routes,N as useRouteData,D as useRouteDataSelector,A as useRoutes,x as useSuspensePending};
//# sourceMappingURL=index.esm.js.map
